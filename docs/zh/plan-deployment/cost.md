在运行此解决方案时，您将负责支付所使用的AWS服务的费用。影响解决方案费用的主要因素包括：

- 数据集的数量和大小
- 数据结构的数量和复杂程度
- 发现作业更新的频率

例如，对大型数据集进行完全扫描范围的发现作业将比在按需运行、扫描范围增加和扫描深度有限的较小数据集上运行的发现作业产生更高的成本。

## 成本估算

根据典型的使用模式，以下列出了几个场景，以提供每月成本的估算。列出的AWS服务按月计费，两个示例分别包含中国宁夏区域与美国东部（弗吉尼亚北部）区域成本估算示例。

### 示例1(cn-northwest-1)

截至2023年6月，使用默认设置在由西云数据运营的亚马逊云科技中国（宁夏）区域(cn-northwest-1)运行此解决方案的AWS账户每月的费用约为**901.82人民币**。

- 基础设施的基本费用（在管理帐户中）

| **服务**                                                     | **使用类型**                                                 | **使用数量** | **每月费用（人民币）** | **类型**     |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------ | ---------------------- | ------------ |
| Amazon Relational Database Service for MySQL Community Edition | 运行MySQL的CNY 0.8每个db.t3.medium Multi-AZ实例小时（或部分小时） | 720小时      | 576                    | 预留         |
| Amazon Relational Database Service Provisioned Storage        | 用于运行MySQL的Multi-AZ部署的CNY 1.5308每GB-month的预 provisioned gp2存储 | 20 GB-Mo     | 30.616                 | 按需         |
| Amazon Elastic Compute Cloud NatGateway                       | NAT网关处理的CNY 0.37每GB数据                              | 30 GB-Mo     | 11.1                   | 按需 |
|| 0.37 CNY每个NAT网关小时                                     | 720小时      | 266.4                  | 预留         |
| Athena                                                       | 在中国（宁夏）每TB的DataScannedInTB为CNY 34.34             | 0.010 TB      | 0.34                   | 按需         |
| CloudWatch                                                   | 每月前5GB日志存储免费。每月归档的CNY 0.244每GB                | 0.100 GB-Mo  | 0.244                  | 按需         |
| EC2 Container Registry (ECR)                                 | 500MB每月免费，CNY 0.69每GB-month                          | 0.003 GB-Mo  | 0.69                   | 预留         |
| Elastic Load Balancing - Application                         | 每月免费套餐下的每个Application LoadBalancer-hour（或部分小时）为0.0 CNY。每个Application load balancer-hour（或部分小时）为CNY 0.156 | 10小时       | 1.56                   | 按需         |
|| 每月免费套餐下的每个使用的Application load balancer容量单位-hour（或部分小时）为0.0 CNY。每个LCU-hour（或部分小时）为CNY 0.072 | 0.105 LCU-Hrs | 0                      | 按需         |
| Lambda                                                       | AWS Lambda - Total Compute - China (Ningxia)的前400K GB-second使用免费，Ningxia的每1ms价格为CNY 0.0000001135 | 100,000.000 Lambda-GB-Second | 11.35 | 按需        |
|| AWS Lambda - Total Requests - China (Ningxia)的前1M使用免费，CNY 1.36每百万请求 | 10,000请求   | 0                      | 按需         |
| Simple Queue Service                                         | 每月前1,000,000个Amazon SQS请求免费，CNY 3.33（每百万请求） | 100,000请求  | 3.33                   | 按需         |
| Simple Storage Service                                       | 免费套餐下的前2,000个PUTs，CNY 0.00405 PUT，COPY，POST，LIST请求（每1,000个请求） | 2,000请求    | 0.0081                 | 按需         |
|| 免费套餐下的前20,000个GETs，CNY 0.0135每10,000个请求        | 4,000请求    | 0.0054                 | 按需         |
|| 免费套餐下的前5GB，CNY 0.1755每GB                           | 0.032 GB-Mo  | 0.1755                 | 按需         |
| **总计**                                                     |              |              | 901.819                |              |

- 基础设施的基本费用（在受监控的帐户中）

| **服务**                                                 | **使用类型**                                                 | **费用类型** |
| -------------------------------------------------------- | ------------------------------------------------------------ | ------------ |
| Glue                                                     | 每秒3.021元的DPU-Hour，每个爬网程序运行的最低时间为10分钟 | 按需         |
|| 用于Amazon Glue ETL作业的每个数据处理单位小时的3.021元 | 按需         |
|| 用于Amazon Glue数据目录请求的每1,000,000个请求数的6.866元 | 按需         |
| Step Functions                                          | 前4,000次状态转换为0元，此后每个状态转换为0.0002102元      | 按需         |
| CloudWatch                                              | 每月前5GB日志存储免费。每月归档的CNY 0.244每GB                | 按需         |

- 场景成本估算示例

以下示例成本表中列出的AWS服务按月在受监控的帐户中计费。Glue爬网程序的最低费用为0.5035元人民币，爬网程序将在数据源连接创建和PII检测作业执行时启动，下面的成本表包括连接创建和作业执行的费用以及示例数据源。

| **场景**                                                   | **服务运行成本（CNY）** | **每月费用（CNY）** |
| ---------------------------------------------------------- | ------------------------ | ------------------- |
| **帐户1，扫描频率每月，扫描深度1000**                    |                          |                     |
|<li>S3 Bucket A: 10000 CSV文件，1000行，10列，总大小1.7GiB</li></li>S3 Bucket B: 10000 JSON文件，1000行，10个字段，总大小2.5GiB</li><li></li>S3 Bucket C: 1000 PARQUET文件，1000行，10个字段，总大小212Mb</li>| <li>Glue爬网程序：1.007</li><li>Glue作业：2.3161</li>      | 3.3231              |
| **帐户2，扫描频率每周，扫描深度1000**                    |                          |                     |
| <li>RDS Aurora MySQL A: 10个表，10000行，10列，实例类型：db.r5.large（8vCPUs，64GiB RAM，网络：4,750 Mbps）</li><li>RDS MySQL B: 10个表，1000000行，10列，实例类型：db.m5.12xlarge（48 vCPU，192 GiB RAM，网络：9500 Mbps）</li> | <li>Glue爬网程序：2.5175</li><li>Glue作业：2.8196</li>     | 5.3371              |
| **帐户3，扫描频率每天，扫描深度1000**                    |                          |                     |
| <li>S3 Bucket A: 10000 CSV文件，1000行，10列，总大小1.7GiB</li><li>S3 Bucket B: 10000 JSON文件，1000行，10个字段，总大小2.5GiB</li><li> S3 Bucket C: 1000 PARQUET文件，1000行，10个字段，总大小212Mb</li><li>RDS Aurora MySQL A: 10个表，10000行，10列，实例类型：db.r5.large（8vCPUs，64GiB RAM，网络：4,750 Mbps）</li>      | <li>Glue爬网程序：15.6085</li><li>Glue作业：70.9935</li>    | 86.602              |
| **上述三个帐户不同频率的每月总费用（CNY）**              |                          | 95.2622             |


### 示例2(us-east-1)

截至2023年6月，使用默认设置在美国东部（弗吉尼亚北部）区域(us-east-1)运行此解决方案的AWS账户每月的费用约为**136.53美元**。

- 基础设施的基本费用（在管理帐户中）

| **服务** | 使用类型 | **使用量** | 月费用（美元） | |
| --- | --- | --- | --- | --- |
| Amazon Relational Database Service for MySQL Community Edition | 每个运行MySQL的db.t3.medium Multi-AZ实例小时（或部分小时）的费用为0.136美元 | 720小时 | 97.92 | 预留 |
| Amazon Relational Database Service Provisioned Storage | 多AZ部署运行MySQL的每GB每月提供的gp2存储费用为0.23美元 | 20 GB-月 | 4.6 | 按需 |
| Amazon Elastic Compute Cloud NatGateway | NAT网关处理的每GB数据费用为0.045美元 | 30 GB-月 | 1.35 | 按需。平均每天80个URL请求 |
| | 每个NAT网关小时的费用为0.045美元 | 720小时 | 32.4 | 预留 |
| Athena | 在美国东部（北弗吉尼亚州）每TB扫描的数据费用为5.00美元 | 0.010 TB | 0.05 | 按需 |
| CloudWatch | 每月前5GB吞吐的日志数据免费。归档每月的每GB费用为0.5美元 | 0.100 GB-月 | 0.05 | 按需 |
| Elastic Load Balancing - Application | 每个使用的应用程序负载均衡器容量单位小时（或部分小时）在每月免费配额下为0.0美元 | 10小时 | 0 | 按需 |
| | 在每月免费配额下，每个应用程序负载平衡器小时（或部分小时）的费用为0.00美元 | 0.105 LCU小时 | 0 | 按需 |
| Lambda | AWS Lambda-计算免费配额-400,000 GB-秒-美国东部（北弗吉尼亚州），免费配额后每GB-秒的费用为0.0000166667美元 | 5,0000 Lambda-GB-秒 | 0.08333 | 按需 |
| | AWS Lambda-临时存储-美国东部（北弗吉尼亚州），免费配额后每GB-秒的费用为0.0000000309美元 | 10,000次请求 | 0 | 按需 |
| Simple Queue Service | 每月前1,000,000个Amazon SQS请求免费，免费配额后每百万请求费用为0.40美元 | 100,000次请求 | 0.04 | 按需 |
| Simple Storage Service | 免费配额下前2,000次PUT免费，每1,000次PUT、COPY、POST或LIST请求的费用为0.005人民币 | 2,000次请求 | 0.01 | 按需 |
| | 免费配额下前20,000次GET免费，每10,000次请求的费用为0.0004美元 | 4,000次请求 | 0.0002 | 按需 |
| | 免费配额下前5GB免费，每GB的费用为0.023美元 | 1 GB | 0.023 | 按需 |
| **总计** | | | 136.53 | |

- 基础设施的基本费用（在受监控的帐户中）

| **服务** | 使用类型 | |
| --- | --- | --- |
| Glue | 每DPU小时收费0.44美元，按秒计费，每个爬虫运行至少10分钟 | 按需 |
| | Amazon Glue ETL作业每数据处理单元小时收费0.44美元 | 按需 |
| | Amazon Glue数据目录请求每1,000,000次收费1美元 | 按需 |
| Step Functions | 前4,000个状态转换免费，之后每1,000个状态转换收费0.025美元 | 按需 |
| CloudWatch | 每月前5GB吞吐的日志数据免费。归档每月的每GB费用为0.5美元 | 按需 |

在受监控的帐户中基础设施的基本费用为按需计费，这意味着您只需为实际使用的资源付费，而不必提前购买或预留任何容量，此外，AWS还提供了一些免费的使用额度，以帮助您了解和评估服务的使用情况。

我们建议使用解决方案中的[AWS Cost Explorer](http://aws.amazon.com/aws-cost-management/aws-cost-explorer/)功能来帮助管理成本。价格可能会有所变化。有关详细信息，请参阅本解决方案中使用的每个AWS服务的定价网页。
